System.register(["./p-261e9558.system.js"],(function(t){"use strict";var n,e,r,o,i,u;return{setters:[function(t){n=t.r;e=t.c;r=t.h;o=t.g;i=t.f;u=t.H}],execute:function(){var c=".done{text-decoration:line-through;color:grey}";var s=t("check_todo",function(){function t(t){n(this,t);this.todo=e(this,"todo",7)}t.prototype.render=function(){var t=this;return r("li",null,r("label",{class:"checkbox"},r("input",{type:"checkbox",checked:this.done,onClick:function(){return t.todo.emit(t.n)}}),r("span",{class:{done:this.done}},this.text)))};return t}());s.style=c;var a=function(t,n,e){var r=t.get(n);if(!r){t.set(n,[e])}else if(!r.includes(e)){r.push(e)}};var f=function(t,n){var e;return function(){var r=[];for(var o=0;o<arguments.length;o++){r[o]=arguments[o]}if(e){clearTimeout(e)}e=setTimeout((function(){e=0;t.apply(void 0,r)}),n)}};var l=function(t){return!("isConnected"in t)||t.isConnected};var d=f((function(t){for(var n=0,e=t.keys();n<e.length;n++){var r=e[n];t.set(r,t.get(r).filter(l))}}),2e3);var v=function(){if(typeof o!=="function"){return{}}var t=new Map;return{dispose:function(){return t.clear()},get:function(n){var e=o();if(e){a(t,n,e)}},set:function(n){var e=t.get(n);if(e){t.set(n,e.filter(i))}d(t)},reset:function(){t.forEach((function(t){return t.forEach(i)}));d(t)}}};var p=function(t,n){if(n===void 0){n=function(t,n){return t!==n}}var e=new Map(Object.entries(t!==null&&t!==void 0?t:{}));var r={dispose:[],get:[],set:[],reset:[]};var o=function(){e=new Map(Object.entries(t!==null&&t!==void 0?t:{}));r.reset.forEach((function(t){return t()}))};var i=function(){r.dispose.forEach((function(t){return t()}));o()};var u=function(t){r.get.forEach((function(n){return n(t)}));return e.get(t)};var c=function(t,o){var i=e.get(t);if(n(o,i,t)){e.set(t,o);r.set.forEach((function(n){return n(t,o,i)}))}};var s=typeof Proxy==="undefined"?{}:new Proxy(t,{get:function(t,n){return u(n)},ownKeys:function(t){return Array.from(e.keys())},getOwnPropertyDescriptor:function(){return{enumerable:true,configurable:true}},has:function(t,n){return e.has(n)},set:function(t,n,e){c(n,e);return true}});var a=function(t,n){r[t].push(n);return function(){h(r[t],n)}};var f=function(n,e){var r=a("set",(function(t,r){if(t===n){e(r)}}));var o=a("reset",(function(){return e(t[n])}));return function(){r();o()}};var l=function(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}var e=t.reduce((function(t,n){if(n.set){t.push(a("set",n.set))}if(n.get){t.push(a("get",n.get))}if(n.reset){t.push(a("reset",n.reset))}if(n.dispose){t.push(a("dispose",n.dispose))}return t}),[]);return function(){return e.forEach((function(t){return t()}))}};var d=function(t){var n=e.get(t);r.set.forEach((function(e){return e(t,n,n)}))};return{state:s,get:u,set:c,on:a,onChange:f,use:l,dispose:i,reset:o,forceUpdate:d}};var h=function(t,n){var e=t.indexOf(n);if(e>=0){t[e]=t[t.length-1];t.length--}};var g=function(t,n){var e=p(t,n);e.use(v());return e};var y=[{text:"lean TypeScript",done:true},{text:"build Stencil App",done:false}];var m=g({count:0,list:y}).state;function x(){m.count=m.list.reduce((function(t,n){return t+(n.done?0:1)}),0)}function b(){var t=localStorage.getItem("todo");if(t){var n=JSON.parse(t);m.list=n.list}x()}function k(){var t={list:m.list};localStorage.setItem("todo",JSON.stringify(t));x()}function E(t){m.list.push(t);k()}function w(t){m.list[t].done=!m.list[t].done;k()}function S(){m.list=m.list.filter((function(t){return!t.done}));k()}b();var C=function(t,n){return t.loading?setTimeout((function(){return t.loading=false}),0):n};var O=":host{display:block}a{color:#0088cc;text-decoration:none;margin:4px}ul{padding:0;margin:0 0 9px 0;list-style:none}";var T=t("my_todo",function(){function t(t){var e=this;n(this,t);this.loading=true;this.disabled=true;this.onPurge=function(t){t.preventDefault();S()};this.onAdd=function(t){t.preventDefault();E({text:e.input.value,done:false});e.input.value="";e.disabled=true};this.onKeyUp=function(){e.disabled=!e.input.value}}t.prototype.render=function(){return C(this,r(u,null,r("h2",null,"Todo"),r(P,{purge:this.onPurge}),r(A,null),r(K,{comp:this})))};return t}());var P=function(t){var n=t.purge;return r("span",null,m.count," of ",m.list.length," remaining [",r("a",{href:"",onClick:n},"purge"),"]")};var A=function(){return r("ul",null,m.list.map((function(t,n){return r("check-todo",{done:t.done,text:t.text,n:n,onTodo:function(t){return w(t.detail)}})})))};var K=function(t){var n=t.comp;return r("form",null,r("input",{type:"text",size:30,placeholder:"add new todo here",ref:function(t){return n.input=t},onKeyUp:n.onKeyUp}),r("input",{type:"submit",value:"add",onClick:n.onAdd,disabled:n.disabled}))};T.style=O}}}));